<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA Trending</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/styles.css" rel="stylesheet">
</head>

<body>

    <section id="info-container container">
        <div class="row">
            <div class="col-lg-6">
                <div class="card text-bg-primary mb-3 w-100">
                    <div class="card-header">Geração</div>
                    <div class="card-body">
                        <h5 class="card-title" id="geracao"></h5>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card text-bg-success mb-3 w-100">
                    <div class="card-header">Step</div>
                    <div class="card-body">
                        <h5 class="card-title" id="step"></h5>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="roulette-container">
        <a href="#" id="bestBtn" class="btn btn-warning mb-3 w-100">bestIA da geração</a>
        <a href="https://br.betano.com/casino/live/games/speed-auto-roulette/1538/tables/"
            class="btn btn-danger mb-3 w-100">Ir até a roleta</a>

        <div class="accordion" id="accordionPanelsStayOpenExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="false"
                        aria-controls="panelsStayOpen-collapseOne">
                        Histórico de números
                    </button>
                </h2>
                <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse"
                    aria-labelledby="panelsStayOpen-headingOne">
                    <div class="accordion-body" style="padding: 0;max-height: 400px; overflow-x: scroll;">
                        <table class="w-100 table table-bordered table-striped mb-0">
                            <tbody id="roulette-history">
                            <tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                        aria-controls="panelsStayOpen-collapseTwo">
                        Script
                    </button>
                </h2>
                <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse"
                    aria-labelledby="panelsStayOpen-headingTwo">
                    <div class="accordion-body" style="padding: 0;max-height: 400px; overflow-x: scroll;">
                        <textarea  class="form-control" rows="30">
                            function simulate(element, eventName)
                            {
                                var options = extend(defaultOptions, arguments[2] || {});
                                var oEvent, eventType = null;
            
                                for (var name in eventMatchers)
                                {
                                    if (eventMatchers[name].test(eventName)) { eventType = name; break; }
                                }
            
                                if (!eventType)
                                    throw new SyntaxError('Only HTMLEvents and MouseEvents interfaces are supported');
            
                                if (document.createEvent)
                                {
                                    oEvent = document.createEvent(eventType);
                                    if (eventType == 'HTMLEvents')
                                    {
                                        oEvent.initEvent(eventName, options.bubbles, options.cancelable);
                                    }
                                    else
                                    {
                                        oEvent.initMouseEvent(eventName, options.bubbles, options.cancelable, document.defaultView,
                                        options.button, options.pointerX, options.pointerY, options.pointerX, options.pointerY,
                                        options.ctrlKey, options.altKey, options.shiftKey, options.metaKey, options.button, element);
                                    }
                                    element.dispatchEvent(oEvent);
                                }
                                else
                                {
                                    options.clientX = options.pointerX;
                                    options.clientY = options.pointerY;
                                    var evt = document.createEventObject();
                                    oEvent = extend(evt, options);
                                    element.fireEvent('on' + eventName, oEvent);
                                }
                                return element;
                            }
            
                            function extend(destination, source) {
                                for (var property in source)
                                destination[property] = source[property];
                                return destination;
                            }
            
                            var eventMatchers = {
                                'HTMLEvents': /^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
                                'MouseEvents': /^(?:click|dblclick|mouse(?:down|up|over|move|out))$/
                            }
                            var defaultOptions = {
                                pointerX: 0,
                                pointerY: 0,
                                button: 0,
                                ctrlKey: false,
                                altKey: false,
                                shiftKey: false,
                                metaKey: false,
                                bubbles: true,
                                cancelable: true
                            }
            
                            addEventListener('keypress', (event) => {
                                if (event.key == "p") {
            
                                    const allPos = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36"]
            
                                    const positions = window.prompt("Digite aqui os números que deseja apostar?");
                                    const splitedPositions = positions.split(", ");    
            
                                    allPos.forEach(pos => {
            
                                        if (splitedPositions.includes(pos)) {
                                            document.querySelector(`[data-bet-spot-id="${pos}"]`).style.fill = "green";
                                            simulate(document.querySelector(`[data-bet-spot-id="${pos}"]`), "click")
                                        } else {
                                            document.querySelector(`[data-bet-spot-id="${pos}"]`).style.fill = "";
                                        }
                                    });
            
                                }
                            });
                        </textarea>
                    </div>
                </div>
            </div>        
        </div>
    </section>
    <section id="users-container" class="row mt-3">

    </section>

    <!-- Modal -->
    <div class="modal fade" id="endGenModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Fim de uma geração</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <table class="w-100 table table-bordered table-striped mb-0">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Score</th>
                                <th>Lucro</th>
                            </tr>
                        </thead>
                        <tbody id="endOfGenContainer">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.1/socket.io.js"></script>
    <script src="/assets/scripts/scripts.js"></script>
</body>

</html>
